{"version":3,"sources":["webpack:///./src/views/Message.vue?9ef3","webpack:///./src/views/Message.vue","webpack:///src/views/Message.vue"],"names":["esExports","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_v","staticClass","directives","name","rawName","value","expression","placeholder","domProps","on","input","$event","target","composing","msg","click","primary","ref","_l","item","index","key","_s","time","staticRenderFns","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_7_2_vue_loader_lib_template_compiler_index_id_data_v_0c40915f_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_template_index_0_Message_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_7_2_vue_loader_lib_selector_type_script_index_0_Message_vue___default","a","data","msgList","flag","components","header1","_Header2","default","methods","init","_this","$axios","get","then","response","code","res","initScroll","_this2","$nextTick","msgListWrapperScroll","scrollTo","_betterScroll2","$refs","msgListWrapper","probeType","_this3","post","userid","_jsCookie2","$toast","message","duration","setTimeout","created"],"mappings":"sDAAA,IAEAA,GAAiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,aAAgBH,EAAA,WAAAJ,EAAAQ,GAAA,KAAAJ,EAAA,OAAsCK,YAAA,WAAqBL,EAAA,OAAYK,YAAA,WAAqBT,EAAAQ,GAAA,kBAAAR,EAAAQ,GAAA,KAAAJ,EAAA,YAAsDM,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAb,EAAA,IAAAc,WAAA,QAAgER,OAASS,YAAA,cAA2BC,UAAWH,MAAAb,EAAA,KAAkBiB,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsCrB,EAAAsB,IAAAH,EAAAC,OAAAP,WAA8Bb,EAAAQ,GAAA,KAAAJ,EAAA,OAAwBK,YAAA,QAAkBL,EAAA,QAAaa,IAAIM,MAAAvB,EAAAwB,WAAqBxB,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,KAAAJ,EAAA,OAA2CqB,IAAA,iBAAAhB,YAAA,mBAAkDL,EAAA,OAAYK,YAAA,WAAsBT,EAAA0B,GAAA1B,EAAA,iBAAA2B,EAAAC,GAA2C,OAAAxB,EAAA,OAAiByB,IAAAD,EAAAnB,YAAA,eAAmCL,EAAA,OAAYK,YAAA,QAAkBL,EAAA,OAAYK,YAAA,SAAmBT,EAAAQ,GAAAR,EAAA8B,GAAAH,EAAAhB,OAAAP,EAAA,QAAAJ,EAAAQ,GAAAR,EAAA8B,GAAAH,EAAAI,WAAA/B,EAAAQ,GAAA,KAAAJ,EAAA,OAA2FK,YAAA,SAAmBT,EAAAQ,GAAAR,EAAA8B,GAAAH,EAAAL,kBAAiC,IAE5+BU,oBACjBC,EAAA,uNCHA,IAAAC,EAAAC,EAAA,QAGA,IASAC,EAZA,SAAAC,GACAF,EAAA,SAgBAG,EAdAH,EAAA,OAcAI,CACAC,EAAAC,EACAP,EAAA,GATA,EAWAE,EAPA,KAEA,MAUAH,EAAA,QAAAK,EAAA,8FCJA,QAAAH,EAAA,aACAA,EAAA,aACAA,EAAA,uEAEAxB,KAAA,UACA+B,KAFA,WAGA,OACApB,IAAA,GACAqB,WACAC,MAAA,IAGAC,YACAC,QAAAC,EAAAC,SAEAC,SACAC,KADA,WACA,IAAAC,EAAAlD,KACAA,KAAAmD,OAAAC,IAAA,iBAAAC,KAAA,SAAAC,GACA,GAAAA,EAAAb,KAAAc,OACAL,EAAAR,QAAAY,EAAAb,KAAAe,QAIAC,WARA,WAQA,IAAAC,EAAA1D,KACAA,KAAA2D,UAAA,WACAD,EAAAE,qBAMAF,EAAAE,qBAAAC,SAAA,KALAH,EAAAE,qBAAA,IAAAE,EAAAf,QAAAW,EAAAK,MAAAC,gBACA1C,OAAA,EACA2C,UAAA,OAOA1C,QApBA,WAoBA,IAAA2C,EAAAlE,KACAA,KAAA2C,OACA3C,KAAA2C,MAAA,EACA3C,KAAAmD,OAAAgB,KAAA,iBACAC,OAAAC,EAAAtB,QAAAK,IAAA,UACA/B,IAAArB,KAAAqB,MACAgC,KAAA,SAAAC,GACA,GAAAA,EAAAb,KAAAc,MACAW,EAAAI,QACAC,QAAA,OACAC,SAAA,MAEAN,EAAAjB,QAEAiB,EAAAI,QACAC,QAAA,OACAC,SAAA,MAGAC,WAAA,WACAP,EAAAvB,MAAA,GACA,UAKA+B,QA1DA,WA2DA1E,KAAAyD,aACAzD,KAAAiD","file":"static/js/5.9ccebde97383c181e625.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"message\"}},[_c('header1'),_vm._v(\" \"),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"thanks\"},[_vm._v(\"Thanks A Lot\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],attrs:{\"placeholder\":\"可以给我留言或建议哦\"},domProps:{\"value\":(_vm.msg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.msg=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('span',{on:{\"click\":_vm.primary}},[_vm._v(\"发表\")])])]),_vm._v(\" \"),_c('div',{ref:\"msgListWrapper\",staticClass:\"msgListWrapper\"},[_c('div',{staticClass:\"msgList\"},_vm._l((_vm.msgList),function(item,index){return _c('div',{key:index,staticClass:\"msgWrapper\"},[_c('div',{staticClass:\"msg\"},[_c('div',{staticClass:\"user\"},[_vm._v(_vm._s(item.name)),_c('span',[_vm._v(_vm._s(item.time))])]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item.msg))])])])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0c40915f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/Message.vue\n// module id = 7Ybo\n// module chunks = 5","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c40915f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!postcss-loader?{\\\"sourceMap\\\":true}!px2rem-loader?{\\\"remUnit\\\":75}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./Message.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Message.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Message.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c40915f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Message.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Message.vue\n// module id = KPGV\n// module chunks = 5","<template>\n    <div id=\"message\">\n      <header1></header1>\n      <div class=\"header\">\n        <div class=\"thanks\">Thanks A Lot</div>\n        <textarea v-model=\"msg\" placeholder=\"可以给我留言或建议哦\"></textarea>\n        <div class=\"btn\"><span @click=\"primary\">发表</span></div>\n      </div>\n      <div class=\"msgListWrapper\" ref=\"msgListWrapper\">\n        <div class=\"msgList\">\n          <div class=\"msgWrapper\" v-for=\"(item,index) in msgList\" :key=\"index\">\n            <div class=\"msg\">\n              <div class=\"user\">{{item.name}}<span>{{item.time}}</span></div>\n              <div class=\"text\">{{item.msg}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\n    import header1 from '../components/Header1'\n    import BScroll from 'better-scroll'\n    import Cookies from 'js-cookie'\n    export default {\n        name: \"Message\",\n        data(){\n          return {\n            msg: '',\n            msgList: [],\n            flag: true\n          }\n        },\n        components: {\n          header1\n        },\n        methods: {\n          init(){\n            this.$axios.get(\"/message/list\").then((response) => {\n              if(response.data.code == 1){\n                this.msgList = response.data.res;\n              }\n            })\n          },\n          initScroll(){\n            this.$nextTick(() => {\n              if(!this.msgListWrapperScroll){\n                this.msgListWrapperScroll = new BScroll(this.$refs.msgListWrapper,{\n                  click: true,\n                  probeType: 3\n                });\n              }else {\n                this.msgListWrapperScroll.scrollTo(0,0);\n              }\n            })\n          },\n          primary(){\n            if(this.flag){\n              this.flag = false;\n              this.$axios.post(\"/message/save\",{\n                userid: Cookies.get(\"userId\"),\n                msg: this.msg\n              }).then((response) => {\n                if(response.data.code == 1){\n                  this.$toast({\n                    message: '提交成功',\n                    duration: 1000\n                  })\n                  this.init();\n                }else {\n                  this.$toast({\n                    message: '提交失败',\n                    duration: 1000\n                  })\n                }\n                setTimeout(() => {\n                  this.flag = true;\n                },1000)\n              })\n            }\n          }\n        },\n        created(){\n          this.initScroll();\n          this.init();\n        }\n    }\n</script>\n\n<style lang=\"less\">\n  #message{\n    height: 100%;\n    .header{\n      width: 80%;\n      margin: 0 auto;\n      height: 280px;\n      .thanks{\n        font-family: -webkit-pictograph;\n        font-size: 40px;\n        font-weight: 400;\n        line-height: 80px;\n      }\n      textarea{\n        display: block;\n        width: 94%;\n        margin: 0 auto;\n        height: 120px;\n        border: 1px solid #666;  /*no*/\n        outline-color: #3a8ee6;\n        resize: none;\n      }\n      .btn{\n        width: 94%;\n        height: 60px;\n        line-height: 60px;\n        margin: 0 auto;\n        text-align: right;\n        span{\n          padding: 10px 30px;\n          background-color: #26a2ff;\n          color: #fff;\n          border-radius: 5px;\n        }\n      }\n    }\n    .msgListWrapper{\n      height: calc(100% - 280px);\n      overflow: hidden;\n      .msgList{\n        width: 94%;\n        margin: 0 auto;\n        .msgWrapper{\n          .msg{\n            text-align: left;\n            font-size: 28px;\n            line-height: 40px;\n            box-sizing: border-box;\n            padding: 20px 0;\n            border-top: 1px solid #ccc;\n            .user{\n              color: #8c939d;\n              span{\n                margin-left: 20px;\n              }\n            }\n            .text{\n              text-indent: 60px;\n            }\n          }\n        }\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/Message.vue"],"sourceRoot":""}