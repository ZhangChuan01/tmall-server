webpackJsonp([5],{"7Ybo":function(t,s,e){"use strict";var a={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"message"}},[e("header1"),t._v(" "),e("div",{staticClass:"header"},[e("div",{staticClass:"thanks"},[t._v("Thanks A Lot")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{placeholder:"可以给我留言或建议哦"},domProps:{value:t.msg},on:{input:function(s){s.target.composing||(t.msg=s.target.value)}}}),t._v(" "),e("div",{staticClass:"btn"},[e("span",{on:{click:t.primary}},[t._v("发表")])])]),t._v(" "),e("div",{ref:"msgListWrapper",staticClass:"msgListWrapper"},[e("div",{staticClass:"msgList"},t._l(t.msgList,function(s,a){return e("div",{key:a,staticClass:"msgWrapper"},[e("div",{staticClass:"msg"},[e("div",{staticClass:"user"},[t._v(t._s(s.name)),e("span",[t._v(t._s(s.time))])]),t._v(" "),e("div",{staticClass:"text"},[t._v(t._s(s.msg))])])])}))])],1)},staticRenderFns:[]};s.a=a},"7iAc":function(t,s){},KPGV:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Z/oH"),i=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(s,t,function(){return a[t]})}(n);var r=e("7Ybo");var o=function(t){e("7iAc")},c=e("vSla")(i.a,r.a,!1,o,null,null);s.default=c.exports},"Z/oH":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=r(e("4uQT")),i=r(e("qdB1")),n=r(e("uAC3"));function r(t){return t&&t.__esModule?t:{default:t}}s.default={name:"Message",data:function(){return{msg:"",msgList:[],flag:!0}},components:{header1:a.default},methods:{init:function(){var t=this;this.$axios.get("/message/list").then(function(s){1==s.data.code&&(t.msgList=s.data.res)})},initScroll:function(){var t=this;this.$nextTick(function(){t.msgListWrapperScroll?t.msgListWrapperScroll.scrollTo(0,0):t.msgListWrapperScroll=new i.default(t.$refs.msgListWrapper,{click:!0,probeType:3})})},primary:function(){var t=this;this.flag&&(this.flag=!1,this.$axios.post("/message/save",{userid:n.default.get("userId"),msg:this.msg}).then(function(s){1==s.data.code?(t.$toast({message:"提交成功",duration:1e3}),t.init()):t.$toast({message:"提交失败",duration:1e3}),setTimeout(function(){t.flag=!0},1e3)}))}},created:function(){this.initScroll(),this.init()}}}});
//# sourceMappingURL=5.9ccebde97383c181e625.js.map